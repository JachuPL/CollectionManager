{% extends "collections/header.html" %}

{% block content %}

<div class="w3-panel w3-leftbar w3-border-blue">
	<div class="row">
		<div class="col-sm8">
			<h2>{{ collection.name }}</h2>
		</div>
        {% if user == collection.user %}
            <div class="col-sm4">
                <button type="button" class="btn btn-sm btn-light"><i class="fas fa-edit"></i>&nbsp;Edytuj</button>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash-alt"></i>&nbsp;Usuń</button>
            </div>
        {% endif %}
	</div>
	<small>Dodano {{ collection.created }} przez {{ collection.user.first_name }} {{ collection.user.last_name }}</small>
</div>

<div class="w3-panel w3-border w3-round">
     <h6><i>{{ collection.desc }}</i></h6>
</div>


<div class="list-group">
  <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">Zawartość</h5>
    </div> 
  </a>
  {% if collection_items %}
  {% for collection_item in collection_items %}
  <a href="{% url 'collections:item' collection_item.id %}" class="list-group-item list-group-item-action flex-column align-items-start">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">{{ collection_item.name }}</h5>
        {% if user == collection.user %}
            <div class="col-sm4">
                <button type="button" class="btn btn-sm btn-light"><i class="fas fa-edit"></i>&nbsp;Edytuj</button>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash-alt"></i>&nbsp;Usuń</button>
            </div>
        {% endif %}
    </div>
    <h6 class="text-muted">{{collection_item.aggregate}}</h6>
  </a>
  {% endfor %}
  {% else %}
		<p>Kolekcja nie zawiera przedmiotow.</p>
  {% endif %}
</div>

{% if user.is_authenticated %}
    <a href="/{{collection.id}}/addItem/">
        <button class="btn btn-default btn-success" type="submit"><i class="fas fa-plus"></i>&nbsp;Dodaj przedmiot</button>
    </a>
{% endif %}

{% endblock %}

